/* ============================================
   BUS LISTING SCREEN - PIXEL PERFECT
   Design: 360 x 800
   ============================================ */

* {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
}

.screen {
  background: #F5F5F5;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

/* ============================================
   STATUS BAR - 40px height
   ============================================ */
.status-bar {
  width: calc(360 * var(--px));
  height: calc(40 * var(--px));
  padding: 0 calc(24 * var(--px));
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff;
}

.status-bar .time {
  font-size: calc(14 * var(--px));
  font-weight: 500;
  color: #000;
  letter-spacing: calc(-0.09 * var(--px));
  line-height: calc(20 * var(--px));
}

.status-center {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.dynamic-island {
  width: calc(24 * var(--px));
  height: calc(24 * var(--px));
  background: #000;
  border-radius: 50%;
}

.status-icons {
  display: flex;
  align-items: center;
  gap: calc(4 * var(--px));
}

.icon-signal {
  width: calc(18 * var(--px));
  height: calc(12 * var(--px));
}

.icon-wifi {
  width: calc(17 * var(--px));
  height: calc(12 * var(--px));
}

.battery {
  display: flex;
  align-items: center;
}

.battery-body {
  width: calc(22 * var(--px));
  height: calc(11 * var(--px));
  border: calc(1 * var(--px)) solid #1D1D1D;
  border-radius: calc(2.5 * var(--px));
  padding: calc(1.5 * var(--px));
}

.battery-level {
  width: 100%;
  height: 100%;
  background: #1D1D1D;
  border-radius: calc(1 * var(--px));
}

.battery-cap {
  width: calc(1.5 * var(--px));
  height: calc(4 * var(--px));
  background: #1D1D1D;
  border-radius: 0 calc(1 * var(--px)) calc(1 * var(--px)) 0;
  margin-left: calc(1 * var(--px));
}

/* ============================================
   NAVIGATION HEADER - STICKY
   ============================================ */
.nav-header {
  width: calc(360 * var(--px));
  height: calc(64 * var(--px));
  padding: calc(8 * var(--px)) calc(4 * var(--px));
  display: flex;
  align-items: center;
  gap: calc(4 * var(--px));
  background: #fff;
  border-bottom: calc(0.33 * var(--px)) solid #E6E6E6;
  position: sticky;
  top: 0;
  z-index: 100;
}

.back-btn {
  width: calc(48 * var(--px));
  height: calc(48 * var(--px));
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  cursor: pointer;
  flex-shrink: 0;
}

.back-btn svg {
  width: calc(24 * var(--px));
  height: calc(24 * var(--px));
}

.route-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.route-title {
  font-size: calc(16 * var(--px));
  font-weight: 700;
  color: #1D1D1D;
  margin: 0;
  line-height: calc(22 * var(--px));
  letter-spacing: calc(-0.18 * var(--px));
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.bus-count {
  font-size: calc(12 * var(--px));
  font-weight: 400;
  color: rgba(29, 29, 29, 0.64);
  margin: 0;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.date-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0 calc(12 * var(--px));
  flex-shrink: 0;
}

.date-badge {
  background: #FDE6E5;
  border-radius: calc(24 * var(--px));
  padding: 0 calc(8 * var(--px));
  height: calc(32 * var(--px));
  display: flex;
  align-items: center;
  justify-content: center;
}

.date-text {
  font-size: calc(12 * var(--px));
  font-weight: 700;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.date-day {
  font-size: calc(11 * var(--px));
  font-weight: 500;
  color: rgba(29, 29, 29, 0.46);
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.05 * var(--px));
}

/* ============================================
   PROMO CAROUSEL
   ============================================ */
.promo-carousel {
  width: calc(360 * var(--px));
  background: #fff;
  padding: calc(8 * var(--px)) 0;
}

.promo-scroll {
  display: flex;
  gap: calc(8 * var(--px));
  padding: 0 calc(16 * var(--px));
  overflow-x: auto;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
}

.promo-scroll::-webkit-scrollbar {
  display: none;
}

.promo-card {
  flex-shrink: 0;
  width: calc(128 * var(--px));
  height: calc(100 * var(--px));
  border-radius: calc(12 * var(--px));
  position: relative;
  overflow: hidden;
}

.promo-green {
  background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
}

.promo-white {
  background: #fff;
  border: calc(1 * var(--px)) solid #E8E8E8;
}

.promo-discount-badge {
  position: absolute;
  top: calc(8 * var(--px));
  left: calc(8 * var(--px));
  background: #D32F2F;
  color: white;
  padding: calc(4 * var(--px)) calc(6 * var(--px));
  border-radius: calc(4 * var(--px));
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1;
}

.discount-value {
  font-size: calc(14 * var(--px));
  font-weight: 700;
}

.discount-label {
  font-size: calc(10 * var(--px));
  font-weight: 600;
}

.promo-nugo-logo {
  position: absolute;
  top: calc(8 * var(--px));
  right: calc(8 * var(--px));
}

.nugo-text {
  background: #FFECB3;
  color: #E65100;
  font-size: calc(12 * var(--px));
  font-weight: 700;
  padding: calc(2 * var(--px)) calc(6 * var(--px));
  border-radius: calc(4 * var(--px));
}

.promo-bus-img {
  position: absolute;
  bottom: calc(4 * var(--px));
  left: calc(4 * var(--px));
}

.promo-bus-img svg {
  width: calc(80 * var(--px));
  height: calc(50 * var(--px));
}

.promo-tagline {
  position: absolute;
  bottom: calc(8 * var(--px));
  right: calc(8 * var(--px));
  font-size: calc(7 * var(--px));
  color: #2E7D32;
  text-align: right;
  line-height: 1.2;
  margin: 0;
}

.promo-header {
  display: flex;
  align-items: center;
  gap: calc(4 * var(--px));
  padding: calc(8 * var(--px)) calc(10 * var(--px));
}

.promo-dots {
  display: flex;
  flex-direction: column;
  gap: calc(2 * var(--px));
}

.promo-dots .dot {
  width: calc(4 * var(--px));
  height: calc(4 * var(--px));
  border-radius: 50%;
}

.promo-dots .dot.filled {
  background: #FF5722;
}

.promo-dots .dot.hollow {
  border: calc(1 * var(--px)) solid #FF5722;
  background: transparent;
}

.promo-label {
  font-size: calc(11 * var(--px));
  font-weight: 500;
  color: #333;
}

.promo-title {
  font-size: calc(11 * var(--px));
  font-weight: 600;
  color: #1D1D1D;
  padding: 0 calc(10 * var(--px));
  margin: 0;
  line-height: 1.3;
}

.promo-icon {
  position: absolute;
  bottom: calc(6 * var(--px));
  right: calc(6 * var(--px));
}

.promo-icon svg {
  width: calc(40 * var(--px));
  height: calc(44 * var(--px));
}

.promo-icon.stopwatch svg {
  width: calc(46 * var(--px));
  height: calc(50 * var(--px));
}

.promo-icon.calendar svg {
  width: calc(36 * var(--px));
  height: calc(40 * var(--px));
}

.promo-icon.arrows svg {
  width: calc(40 * var(--px));
  height: calc(36 * var(--px));
}

.promo-icon.avatar-img {
  width: calc(40 * var(--px));
  height: calc(40 * var(--px));
  background: linear-gradient(135deg, #E1BEE7 0%, #9C27B0 100%);
  border-radius: 50%;
}

/* ============================================
   FILTER SECTION - STICKY
   ============================================ */
.filter-section {
  width: calc(360 * var(--px));
  background: #fff;
  padding: calc(4 * var(--px)) calc(16 * var(--px)) calc(10 * var(--px));
  position: sticky;
  top: calc(64 * var(--px)); /* Below nav header */
  z-index: 99;
}

.filter-row {
  overflow: hidden;
}

.filter-scroll {
  display: flex;
  gap: calc(6 * var(--px));
  overflow-x: auto;
  scrollbar-width: none;
  padding: calc(8 * var(--px)) 0;
}

.filter-scroll::-webkit-scrollbar {
  display: none;
}

.chip {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: calc(4 * var(--px));
  height: calc(32 * var(--px));
  min-width: calc(48 * var(--px));
  padding: calc(6 * var(--px)) calc(12 * var(--px));
  background: #fff;
  border: calc(1 * var(--px)) solid #B0B0B0;
  border-radius: calc(8 * var(--px));
  font-size: calc(14 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(20 * var(--px));
  letter-spacing: calc(-0.09 * var(--px));
  cursor: pointer;
  white-space: nowrap;
}

.chip-icon {
  padding-left: calc(8 * var(--px));
}

.filter-icon {
  width: calc(20 * var(--px));
  height: calc(20 * var(--px));
}

.chip-avatars {
  padding-left: calc(8 * var(--px));
}

.avatar-stack {
  display: flex;
  padding-right: calc(6 * var(--px));
}

.avatar-stack .avatar {
  width: calc(16 * var(--px));
  height: calc(16 * var(--px));
  border-radius: 50%;
  border: calc(0.4 * var(--px)) solid #B0B0B0;
  background: #fff;
  margin-left: calc(-6 * var(--px));
  object-fit: cover;
}

.avatar-stack .avatar:first-child {
  margin-left: 0;
}

.avatar-stack.small .avatar {
  width: calc(16 * var(--px));
  height: calc(16 * var(--px));
  margin-left: calc(-6 * var(--px));
}

.avatar-stack.small .avatar:first-child {
  margin-left: 0;
}

/* ============================================
   BUS LISTINGS
   ============================================ */

/* Bus Card Link Wrapper */
.bus-card-link {
  text-decoration: none;
  color: inherit;
  display: block;
}

.bus-listings {
  width: calc(360 * var(--px));
  padding: calc(16 * var(--px));
  padding-top: calc(10 * var(--px));
  display: flex;
  flex-direction: column;
  gap: calc(8 * var(--px));
  background: #F5F5F5;
  box-sizing: border-box;
}

.bus-card {
  width: calc(328 * var(--px));
  background: #fff;
  border-radius: calc(20 * var(--px));
  padding: calc(16 * var(--px));
  box-shadow: 0 calc(2 * var(--px)) calc(4 * var(--px)) rgba(0, 0, 0, 0.08),
              0 calc(4 * var(--px)) calc(8 * var(--px)) rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  gap: calc(12 * var(--px));
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.bus-card:active {
  transform: scale(0.98);
}

.card-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.card-row-header {
  align-items: center;
  gap: 0;
  min-height: calc(32 * var(--px));
}

/* Header Spacer */
.header-spacer {
  flex: 1;
}

/* Deals Row Wrapper - contains primo + fade + deals */
.bus-card .deals-row-wrapper {
  position: relative;
  width: 100%;
  height: calc(28 * var(--px));
  isolation: isolate;
}

/* Primo logo - absolute on top left */
.bus-card .primo-logo {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: calc(56 * var(--px));
  height: calc(28 * var(--px));
  object-fit: contain;
  z-index: 4;
}

/* Fade gradient - starts from left edge to cover deals behind Primo */
.bus-card .deals-fade {
  position: absolute;
  left: 0;
  top: 0;
  width: calc(169 * var(--px));
  height: calc(28 * var(--px));
  background: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 50%, rgba(255, 255, 255, 0) 100%);
  z-index: 3;
  pointer-events: none;
}

/* Deals Row - right aligned */
.bus-card .deals-row {
  display: flex !important;
  flex-direction: row !important;
  flex-wrap: nowrap !important;
  gap: calc(4 * var(--px)) !important;
  align-items: center !important;
  justify-content: flex-end !important;
  width: 100% !important;
  height: calc(28 * var(--px)) !important;
  box-sizing: border-box !important;
  position: relative;
  z-index: 2;
}

/* Primo Row - with logo overlay */
.bus-card .primo-row {
  position: relative !important;
  width: 100% !important;
  height: calc(28 * var(--px)) !important;
  display: block !important;
}

/* Deals - base layer, horizontal row */
.bus-card .primo-row .deals-base {
  display: flex !important;
  flex-direction: row !important;
  flex-wrap: nowrap !important;
  gap: calc(6 * var(--px)) !important;
  align-items: center !important;
  justify-content: flex-start !important;
  padding-left: calc(60 * var(--px)) !important;
  width: 100% !important;
  height: calc(28 * var(--px)) !important;
  box-sizing: border-box !important;
}

/* Primo logo - absolute positioned on top left */
.bus-card .primo-row .primo-absolute {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  z-index: 10 !important;
  display: flex !important;
  align-items: center !important;
  height: calc(28 * var(--px)) !important;
}

.bus-card .primo-row .primo-absolute img {
  width: calc(56 * var(--px)) !important;
  height: calc(28 * var(--px)) !important;
  object-fit: contain !important;
  display: block !important;
  position: relative !important;
  z-index: 2 !important;
}

/* White gradient to blend primo with deals */
.bus-card .primo-row .primo-gradient {
  position: absolute !important;
  left: calc(50 * var(--px)) !important;
  top: 0 !important;
  width: calc(40 * var(--px)) !important;
  height: calc(28 * var(--px)) !important;
  background: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 0) 100%) !important;
  z-index: 5 !important;
  pointer-events: none !important;
}

/* Deal Tag Coupon - ticket style with notches */
.deal-tag-coupon {
  display: inline-flex !important;
  flex-direction: row !important;
  align-items: stretch !important;
  height: calc(24 * var(--px)) !important;
  border-radius: calc(4 * var(--px)) !important;
  overflow: hidden !important;
  flex-shrink: 0 !important;
}

.coupon-edge {
  width: calc(10 * var(--px));
  background: #FEDE92;
  position: relative;
}

.coupon-edge::before {
  content: '';
  position: absolute;
  width: calc(6 * var(--px));
  height: calc(6 * var(--px));
  background: white;
  border-radius: 50%;
  top: 50%;
  transform: translateY(-50%);
}

.coupon-edge.left::before {
  left: calc(-3 * var(--px));
}

.coupon-edge.right::before {
  right: calc(-3 * var(--px));
}

.coupon-content {
  background: #FEDE92;
  padding: 0 calc(4 * var(--px));
  display: flex;
  align-items: center;
  font-family: 'Inter', sans-serif;
  font-size: calc(12 * var(--px));
  font-weight: 500;
  line-height: calc(16 * var(--px));
  letter-spacing: 0.01px;
  color: #1D1D1D;
  white-space: nowrap;
}

.coupon-content strong {
  font-weight: 700;
}

/* Student tag - purple/lavender color */
.deal-tag-coupon.student-tag .coupon-edge {
  background: #EADBFE;
}

.deal-tag-coupon.student-tag .coupon-content {
  background: #EADBFE;
}

/* Coupon Tags - ticket style with notches */
.coupon-tag {
  display: inline-flex;
  align-items: center;
  height: calc(24 * var(--px));
  padding: 0 calc(8 * var(--px));
  border-radius: calc(4 * var(--px));
  position: relative;
  margin-left: calc(4 * var(--px));
}

.coupon-tag-yellow {
  background: #FEDE92;
}

.coupon-tag-purple {
  background: #EADBFE;
}

.coupon-tag-text {
  font-family: 'Inter', sans-serif;
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.coupon-tag-text strong {
  font-weight: 700;
}

/* Legacy Offer Tags - keeping for compatibility */
.offer-tag {
  display: inline-flex;
  align-items: center;
  height: calc(24 * var(--px));
  padding: 0 calc(8 * var(--px));
  border-radius: calc(4 * var(--px));
  font-size: calc(12 * var(--px));
  font-weight: 500;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
  color: #1D1D1D;
  margin-left: calc(4 * var(--px));
}

.offer-tag strong {
  font-weight: 700;
}

.tag-green {
  background: #FEDE92;
}

.tag-yellow {
  background: #FEDE92;
}

.tag-purple {
  background: #EADBFE;
}

/* Time Block */
.time-block {
  display: flex;
  flex-direction: column;
}

.time-display {
  display: flex;
  align-items: center;
  gap: calc(6 * var(--px));
}

.time-value {
  font-size: calc(16 * var(--px));
  font-weight: 400;
  color: #1D1D1D;
  line-height: calc(22 * var(--px));
  letter-spacing: calc(-0.18 * var(--px));
}

.time-value.bold {
  font-weight: 700;
}

.time-sep {
  width: calc(12 * var(--px));
  height: calc(1.5 * var(--px));
  background: #E6E6E6;
  border-radius: calc(1 * var(--px));
}

.duration-seats {
  display: flex;
  align-items: center;
  gap: calc(6 * var(--px));
  font-size: calc(12 * var(--px));
  font-weight: 400;
  color: rgba(29, 29, 29, 0.64);
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.dot-sep {
  width: calc(2 * var(--px));
  height: calc(2 * var(--px));
  background: rgba(29, 29, 29, 0.64);
  border-radius: 50%;
  flex-shrink: 0;
}

.dot-sep::before {
  content: '';
}

.seats-single {
  color: #B14B00;
}

/* Price Block */
.price-block {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.price-row {
  display: flex;
  align-items: center;
  gap: calc(2 * var(--px));
}

.price-old {
  font-size: calc(14 * var(--px));
  font-weight: 400;
  color: rgba(29, 29, 29, 0.64);
  text-decoration: line-through;
  line-height: calc(20 * var(--px));
  letter-spacing: calc(-0.09 * var(--px));
}

.price-current {
  font-size: calc(16 * var(--px));
  font-weight: 700;
  color: #1D1D1D;
  line-height: calc(22 * var(--px));
  letter-spacing: calc(-0.18 * var(--px));
}

.price-label {
  font-size: calc(12 * var(--px));
  font-weight: 400;
  color: rgba(29, 29, 29, 0.26);
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

/* Operator Block */
.operator-block {
  display: flex;
  flex-direction: column;
}

.operator-name {
  font-size: calc(14 * var(--px));
  font-weight: 700;
  color: #1D1D1D;
  line-height: calc(20 * var(--px));
  letter-spacing: calc(-0.09 * var(--px));
}

.bus-type {
  font-size: calc(12 * var(--px));
  font-weight: 400;
  color: rgba(29, 29, 29, 0.64);
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

/* Rating Block */
.rating-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: #E2EEE3;
  border-radius: calc(8 * var(--px));
  padding: calc(2 * var(--px));
}

.rating-score {
  display: flex;
  align-items: center;
  gap: calc(2 * var(--px));
  background: #007B28;
  color: #FDFDFD;
  padding: 0 calc(6 * var(--px));
  min-width: calc(46 * var(--px));
  height: calc(20 * var(--px));
  border-radius: calc(6 * var(--px));
  justify-content: center;
}

.rating-score svg {
  width: calc(12 * var(--px));
  height: calc(12 * var(--px));
}

.rating-score span {
  font-size: calc(12 * var(--px));
  font-weight: 700;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.rating-score-grey {
  background: #B0B0B0;
}

.rating-count {
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

/* Offer Strip */
.offer-strip {
  display: flex;
  align-items: center;
  gap: calc(4 * var(--px));
  height: calc(24 * var(--px));
  padding: calc(6 * var(--px)) calc(8 * var(--px));
  border-radius: calc(8 * var(--px));
  background: linear-gradient(257deg, rgba(255, 255, 255, 1) 2%, rgba(255, 255, 255, 0) 51%), 
              linear-gradient(90deg, #EBDBFF 0%, #EBDBFF 100%);
}

.offer-strip-text {
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

/* Group Deal Strip - New Design */
.group-deal-strip {
  display: flex;
  flex-direction: column;
  gap: calc(1 * var(--px));
  padding: calc(6 * var(--px)) calc(8 * var(--px));
  border-radius: calc(8 * var(--px));
  background: linear-gradient(264deg, rgba(255, 255, 255, 1) 2%, rgba(255, 255, 255, 0) 51%), 
              linear-gradient(90deg, #EBDBFF 0%, #EBDBFF 100%);
}

.group-deal-header {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  padding: 0 calc(16 * var(--px));
  min-width: calc(141 * var(--px));
  height: calc(24 * var(--px));
  background-image: url('../assets/coupon-tag-pink.svg');
  background-size: 100% 100%;
  background-repeat: no-repeat;
  position: relative;
}

.group-deal-label {
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
  white-space: pre;
}

.group-deal-off {
  font-size: calc(12 * var(--px));
  font-weight: 700;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

.group-deal-text {
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
  margin: 0;
}

/* Tags Area */
.tags-area {
  display: flex;
  flex-wrap: wrap;
  gap: calc(6 * var(--px));
}

.tag {
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(24 * var(--px));
  padding: 0 calc(8 * var(--px));
  background: #E4ECFD;
  border-radius: calc(8 * var(--px));
  font-size: calc(12 * var(--px));
  font-weight: 500;
  color: #1D1D1D;
  line-height: calc(16 * var(--px));
  letter-spacing: calc(0.01 * var(--px));
}

/* ============================================
   SCROLLBAR HIDING
   ============================================ */
.screen::-webkit-scrollbar {
  display: none;
}

.screen {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
